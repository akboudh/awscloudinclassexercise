<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Test — S3→Lambda Markdown Publisher</title>
  <style>
    body { font-family: system-ui, -apple-system; display:grid; grid-template-columns:260px 1fr; gap:2rem; margin:0; }
    nav { background:#f7f7f8; min-height:100vh; padding:1.25rem; border-right:1px solid #eee; position:sticky; top:0; }
    nav a { display:block; margin:.35rem 0; text-decoration:none; color:#333; }
    nav a.active { font-weight:700; }
    main { padding:2rem 2rem 4rem; }
    code, pre { background:#f4f4f6; padding:.2rem .4rem; border-radius:4px; }
    .grid { display:grid; gap:1rem; grid-template-columns: 1fr 1fr; }
    .card { border:1px solid #eee; border-radius:8px; padding:1rem; background:#fff; }
  </style>
</head>
<body>
  <nav>
    <strong>Serverless Notes Project</strong>
    <a href="index.html">index</a>
    <a href="buckets.html">Buckets</a>
    <a href="lambda-create.html">Create Lambda</a>
    <a href="lambda-code.html">Lambda Code</a>
    <a href="pipeline.html">S3 Event → Lambda</a>
    <a class="active" href="test.html">Test</a>
    <a href="cleanup.html">Cleanup</a>
  </nav>
  <main>
    <h1>Test Your Pipeline</h1>
    <p>You can now download a ready-made <code>.md</code> file instead of creating one manually.</p>

<h2>1) Download & Upload</h2>

<div class="card" style="margin-bottom:1rem;">
  <p><strong>Download sample Markdown file:</strong></p>
  <p><a href="meeting.md" download="meeting.md">➡️ Click here to download <code>meeting.md</code></a></p>
  <p style="font-size:0.9rem;">
    (Make sure <code>meeting.md</code> is in the same folder as <code>test.html</code> in your GitHub Pages repo.)
  </p>
</div>

<pre># meeting notes

- Alice
- Bob
</pre>

<ol>
  <li>Download the file above.</li>
  <li>Upload <code>meeting.md</code> to your <strong>notes-in-…</strong> bucket.</li>
  <li>Check your <strong>notes-out-…</strong> bucket after a few seconds.</li>
</ol>


    <h2>2) Verify output</h2>
    <ul>
      <li><code>meeting.html</code> exists in the output bucket.</li>
      <li><code>index.html</code> lists generated pages.</li>
      <li>Download <code>meeting.html</code> and open it locally to view the rendered note.</li>
    </ul>

    <h2>3) Troubleshooting</h2>
    <div class="grid">
      <div class="card">
        <strong>No files in output?</strong>
        <ul>
          <li>Event notification must be on the <em>input</em> bucket, suffix <code>.md</code>.</li>
          <li>Re-upload with a new filename to retrigger.</li>
        </ul>
      </div>
      <div class="card">
        <strong>Lambda error?</strong>
        <ul>
          <li>Open <strong>CloudWatch Logs</strong> → function log stream → read the first error lines.</li>
        </ul>
      </div>
      <div class="card">
        <strong>Handler mismatch?</strong>
        <ul>
          <li>Code tab → right-side <strong>Runtime settings</strong> → <code>lambda_function.handler</code>.</li>
        </ul>
      </div>
      <div class="card">
        <strong>Env var (optional):</strong>
        <ul>
          <li>Set <code>OUTPUT_BUCKET</code> to your exact output bucket name if the swap doesn’t match.</li>
        </ul>
      </div>
    </div>
  </main>
</body>
</html>
